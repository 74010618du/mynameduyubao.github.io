<!DOCTYPE html>
<html>
  <head>
    <mete charset="UTF"-8>
    <title>JavaScript计算器</title>
    <style type="text/css" >
    	/* Basic Reset(重设基本模式) */
	*{
		border: none;
		font-family: sans-serif;
		margin: 0;
		padding: 0;
	}
			
	.center{
		background-color: #F2F2F2;
		/*border-radius: 50%;*/
		height: 700px;
		margin: auto;
		width: 600px;
	}
			
	h1{
		color: #495678;
		font-size: 30px;
		margin-top: 20px;
		padding-top: 50px;
		display: block;
		text-align: center;
		text-decoration: none;
	}
			
	/*计算器样式*/
	form{
	  	position: relative;
	  	background-color: #495678;
		box-shadow: 4px 4px #3d4a56;
		margin: 40px auto;
		padding: 40px 0 30px 40px;
		width: 300px;
	}
			
	/*按钮样式*/
	.btn{
		outline: none;
		cursor: pointer;
		font-size: 20px;
		height: 55px;
		margin: 5px 0 5px 10px;
		width: 55px;
		border-radius: 50%;
	}
	.btn:first-child {
		margin: 5px 0 5px 10px;
	}
		
	/*输入框样式*/
	#display{
		outline: none;
		background-color: #98d1dc;
		box-shadow: inset 6px 6px 0px #3facc0;
		color: #000;
		height: 47px;
		text-align: right;
		padding-right: 10px;
		margin: 10px;
		width: 250px;
	}
			
	/*数字按钮样式*/
	.number{
		background-color: #fff;
		box-shadow: 0 5px #495678;
		color: #000;
	}
	.number:active{
		box-shadow: 0 2px #495678;
		-webkit-transform: translateY(2px);
		-ms-transform: translateY(2px);
		-moz-tranform: translateY(2px);
		transform: translateY(2px);
	}
			
	/*符号按钮样式*/
	.operator{
		background-color: #dededc;
		box-shadow: 0 5px #bebebe;
		color: #72778b;
	}
	.operator:active {
		box-shadow: 0 2px #bebebe;
		-webkit-transform: translateY(2px);
		-ms-transform: translateY(2px);
		-moz-tranform: translateY(2px);
		transform: translateY(2px);
	}
			
	/*等号和清除按钮样式*/
	.other{
		background-color: #e3844c;
		box-shadow: 0 5px #e76a3d;
		color: #dededc;
	}
	.other:active {
		box-shadow: 0 2px #e76a3d;
		-webkit-transform: translateY(2px);
		-ms-transform: translateY(2px);
		-moz-tranform: translateY(2px);
		transform: translateY(2px);
	}
			
	#equal{
		width: 60px;
		height: 110px;
		position: absolute;
		bottom: 35px;
	}
    </style>
  </head>
  <body>
    <div class="center">
      <h1>HTML、CSS、JavaScript 计算器</h1>
      <br />
      <form name="calculator>
        <input type="text" id="display" />
        <br />
        <input type="button" id="clear" class="btn other" value="C" />
        <input type="button" class="btn operator" value="÷" onclick="get(this.value)" />
        <input type="button" class="btn operator" value="×" onclick="get(this.value)" />
        <input type="button" id="qq" class="btn other" value="<—" />
        <br />
        <input type="button" class="btn number" value="7" onclick="get(this.value)" />
        <input type="button" class="btn number" value="8" onclick="get(this.value)" />
        <input type="button" class="btn number" value="9" onclick="get(this.value)" />
        <input type="button" class="btn operator" value="-" onclick="get(this.value)" />
        <br />
        <input type="button" class="btn number" value="4" onclick="get(this.value)" />
        <input type="button" class="btn number" value="5" onclick="get(this.value)" />
        <input type="button" class="btn number" value="6" onclick="get(this.value)" />
        <input type="button" class="btn operator" value="+" onclick="get(this.value)" />
        <br />
        <input type="button" class="btn number" value="1" onclick="get(this.value)" />
        <input type="button" class="btn number" value="2" onclick="get(this.value)" />
        <input type="button" class="btn number" value="3" onclick="get(this.value)" />
        <br />
        <input type="button" class="btn number" value="%" onclick="get(this.value)" />
        <input type="button" class="btn number" value="0" onclick="get(this.value)" />
        <input type="button" class="btn number" value="." onclick="get(this.value)" />
        <input type="button" id="equal" class="btn other" value="=" onclick="calculates()" />
      </form>
    </div>
    
    <script>
    	/*重置按钮*/
      	document.getElementById("clear").addEventListener("click", function() {
		document.getElementById("display").value = "";
      	});
			
	/*获取按钮value*/
	function get(value) {
		document.getElementById("display").value += value;
	}
			
	/*计算*/
	function calculates() {
		var result = 0;
		result = document.getElementById("display").value;
		document.getElementById("display").value = "";
		if(/%/.test(result)){
			result = result.replace(/%/g,"/100");
		}
		if(/×/.test(result)){
			result = result.replace(/×/g,"*");
		}
		if(/÷/.test(result)){
			result = result.replace(/÷/g,"/");
		}
		document.getElementById("display").value = eval(result);
	};
			
	/*删除一个字符*/
	document.getElementById("qq").addEventListener("click",function(){
		var dispaly = document.getElementById("display")
		var value = dispaly.value;
		dispaly.value = value.slice(0,value.length-1);
	});
    </script>
  </body>
</html>
